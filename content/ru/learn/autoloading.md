# Автозагрузка

Автозагрузка - это концепция в PHP, где вы указываете каталог или каталоги для загрузки классов. Это намного более полезно, чем использование `require` или `include` для загрузки классов. Также это необходимо для использования пакетов Composer.

По умолчанию любой класс `Flight` автоматически загружается благодаря композитору. Однако, если вы хотите загружать собственные классы, вы можете использовать метод `Flight::path` для указания каталога для загрузки классов.

## Простой пример

Предположим, у нас есть древо каталогов, подобное следующему:

```text
# Пример пути
/home/user/project/my-flight-project/
├── app
│   ├── cache
│   ├── config
│   ├── controllers - содержит контроллеры для этого проекта
│   ├── translations
│   ├── UTILS - содержит классы только для этого приложения (это все заглавные буквы намеренно, для примера позже)
│   └── views
└── public
    └── css
	└── js
	└── index.php
```

Вы могли заметить, что это такая же структура файлов, как на этом сайте документации.

Вы можете указать каждый каталог для загрузки так:

```php

/**
 * public/index.php
 */

// Добавить путь в автозагрузчик
Flight::path(__DIR__.'/../app/controllers/');
Flight::path(__DIR__.'/../app/utils/');


/**
 * app/controllers/MyController.php
 */

// нет необходимости в пространствах имен

// Все автозагружаемые классы рекомендуется писать в формате Pascal Case (каждое слово с заглавной буквы, без пробелов)
// Требование - нельзя использовать подчеркивание в имени класса
class MyController {

	public function index() {
		// сделать что-то
	}
}
```

## Пространства имен

Если у вас есть пространства имен, это на самом деле становится очень простым вопросом. Вам следует использовать метод `Flight::path()` для указания корневого каталога (а не корневого документа или папки `public/`) вашего приложения.

```php

/**
 * public/index.php
 */

// Добавить путь в автозагрузчик
Flight::path(__DIR__.'/../');
```

Теперь вот как может выглядеть ваш контроллер. Посмотрите на пример ниже, обратите внимание на комментарии для важной информации.

```php
/**
 * app/controllers/MyController.php
 */

// пространства имен обязательны
// пространства имен совпадают с структурой каталогов
// пространства имен должны следовать тому же регистру, что и структура каталогов
// пространства имен и каталоги не могут содержать подчеркивания
namespace app\controllers;

// Все автозагружаемые классы рекомендуется писать в формате Pascal Case (каждое слово с заглавной буквы, без пробелов)
// Требование – нельзя использовать подчеркивание в имени класса
class MyController {

	public function index() {
		// сделать что-то
	}
}
```

И если вы хотите автоматически загрузить класс из каталога utils, вы сделали бы практически то же самое:

```php

/**
 * app/UTILS/ArrayHelperUtil.php
 */

// пространство имен должно соответствовать структуре и регистру каталога (обратите внимание, что каталог UTILS состоит из заглавных букв
//     как в дереве файлов выше)
namespace app\UTILS;

class ArrayHelperUtil {

	public function changeArrayCase(array $array) {
		// сделать что-то
	}
}
```