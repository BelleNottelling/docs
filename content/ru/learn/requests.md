# Запросы

Flight инкапсулирует HTTP-запрос в один объект, к которому можно обратиться, выполнив:

```php
$request = Flight::request();
```

Объект запроса предоставляет следующие свойства:

- **body** - Сырое тело HTTP-запроса
- **url** - URL, запрашиваемый 
- **base** - Родительская подпапка URL
- **method** - Метод запроса (GET, POST, PUT, DELETE)
- **referrer** - URL реферера
- **ip** - IP-адрес клиента
- **ajax** - Является ли запрос AJAX-запросом
- **scheme** - Протокол сервера (http, https)
- **user_agent** - Информация о браузере
- **type** - Тип содержимого
- **length** - Длина содержимого
- **query** - Параметры строки запроса
- **data** - Данные POST или JSON
- **cookies** - Данные cookie
- **files** - Загруженные файлы
- **secure** - Является ли соединение защищенным
- **accept** - Параметры принятия HTTP
- **proxy_ip** - IP-адрес прокси-сервера клиента
- **host** - Имя хоста запроса

Вы можете получить доступ к свойствам `query`, `data`, `cookies` и `files`
как к массивам или объектам.

Так что, чтобы получить параметр строки запроса, вы можете сделать:

```php
$id = Flight::request()->query['id'];
```

Или вы можете сделать:

```php
$id = Flight::request()->query->id;
```

## Sырое тело запроса

Чтобы получить сырое тело HTTP-запроса, например, когда вы имеете дело с запросами PUT, вы можете сделать:

```php
$body = Flight::request()->getBody();
```

## JSON Ввод

Если вы отправляете запрос с типом `application/json` и данными `{"id": 123}`,
он будет доступен из свойства `data`:

```php
$id = Flight::request()->data->id;
```

## Доступ к `$_SERVER`

Для доступа к массиву `$_SERVER` есть доступный быстрый способ через метод `getVar()`:

```php

$host = Flight::request()->getVar['HTTP_HOST'];
```

## Доступ к заголовкам запроса

Вы можете получить доступ к заголовкам запроса, используя метод `getHeader()` или `getHeaders()`:

```php

// Может быть, вам нужен заголовок Authorization
$host = Flight::request()->getHeader('Authorization');

// Если вам нужно получить все заголовки
$headers = Flight::request()->getHeaders();
```